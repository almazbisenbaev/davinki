<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DaVinki by @almazbisenbaev</title>
  <link rel="stylesheet" href="/src/style.css" />
</head>
<body>
  <!-- Welcome Modal -->
  <div id="welcomeModal" class="modal">
    <div class="modal-content">

      <div class="welcome-header">
        <h2>DaVinki. <span>Online image editor</span></h2>
      </div>

      <div class="canvas-size">

        <div class="canvas-size-title">Canvas Size:</div>

        <div class="canvas-size-inputs">
          <div class="size-inputs">
            <div>
              <div>Width:</div>
              <input type="number" id="canvasWidth" value="800" min="1" max="4000"> px
            </div>
            <div>
              <div>Height:</div>
              <input type="number" id="canvasHeight" value="800" min="1" max="4000"> px
            </div>
          </div>
        </div>

      </div>

      <div class="canvas-size-buttons">
        <button class="ui-btn" id="btnNewProject">Create New Project</button>
        <div>or</div>
        <button class="ui-btn" id="btnUploadImage">Upload Image</button>
      </div>

      <div class="welcome-footer">Author: <a href="https://helloalmaz.com" target="_blank">@almazbisenbaev</a></div>

    </div>
  </div>

  <!-- Export Modal -->
  <div id="exportModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Export Image</h2>
      <div class="export-options">
        <label>Format:</label>
        <div class="format-options">
          <label><input type="radio" name="exportFormat" value="image/jpeg" checked> JPG</label>
          <label><input type="radio" name="exportFormat" value="image/png"> PNG</label>
          <label><input type="radio" name="exportFormat" value="image/webp"> WEBP</label>
        </div>
        <div class="quality-option">
          <label for="exportQuality">Quality (JPG/WEBP):</label>
          <input type="range" id="exportQuality" min="0.1" max="1" step="0.1" value="0.9">
          <span id="qualityValue">90%</span>
        </div>
      </div>
      <div class="modal-buttons">
        <button id="btnExportCancel">Cancel</button>
        <button id="btnExportConfirm">Export</button>
      </div>
    </div>
  </div>

  <!-- Canvas Resize Modal -->
  <div id="canvasResizeModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Resize Canvas</h2>
      <div class="canvas-size-inputs">
        <label>New Canvas Size:</label>
        <div class="size-inputs">
          <input type="number" id="newCanvasWidth" value="800" min="1" max="4000"> √ó
          <input type="number" id="newCanvasHeight" value="800" min="1" max="4000"> px
        </div>
      </div>
      <div class="resize-options">
        <label>Anchor Point:</label>
        <div class="anchor-selector">
          <div class="anchor-grid">
            <div class="anchor-point" data-anchor="top-left"></div>
            <div class="anchor-point" data-anchor="top-center"></div>
            <div class="anchor-point" data-anchor="top-right"></div>
            <div class="anchor-point" data-anchor="middle-left"></div>
            <div class="anchor-point active" data-anchor="middle-center"></div>
            <div class="anchor-point" data-anchor="middle-right"></div>
            <div class="anchor-point" data-anchor="bottom-left"></div>
            <div class="anchor-point" data-anchor="bottom-center"></div>
            <div class="anchor-point" data-anchor="bottom-right"></div>
          </div>
        </div>
      </div>
      <div class="modal-buttons">
        <button id="btnResizeCancel">Cancel</button>
        <button id="btnResizeConfirm">Resize Canvas</button>
      </div>
    </div>
  </div>

  <!-- Layer Context Menu -->
  <div id="layerContextMenu" class="context-menu" style="display: none;">
    <div class="context-menu-item" id="contextRename">Rename</div>
    <div class="context-menu-item" id="contextDelete">Delete</div>
  </div>

  <!-- Main UI (hidden until project loaded) -->
  <div id="app" class="app hidden">
    <!-- Menu Bar -->
    <div class="menu-bar">
      <div class="menu">
        <span class="menu-title">File</span>
        <div class="dropdown">
          <div id="fileNewProject" class="dropdown-item">New Project</div>
          <div id="fileExport" class="dropdown-item">Export</div>
        </div>
      </div>
      <div id="canvasSize" class="canvas-size">Canvas: 0 √ó 0 px</div>
    </div>

    <!-- Toolbar -->
    <div class="toolbar">
      <div class="tool active" data-tool="move">
        <svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M7.92098 2.29927C6.93571 1.53286 5.5 2.23498 5.5 3.48325V20.492C5.5 21.9142 7.2945 22.538 8.17661 21.4224L12.3676 16.1222C12.6806 15.7264 13.1574 15.4956 13.6619 15.4956H20.5143C21.9425 15.4956 22.5626 13.6885 21.4353 12.8116L7.92098 2.29927Z" fill="#212121"/>
        </svg>
      </div>
    </div>

    <!-- Workspace -->
    <div class="workspace">
      <!-- Canvas Container (for relative positioning) -->
      <div class="canvas-container">
        <canvas id="canvas"></canvas>
      </div>

      <!-- Layers Panel -->
      <div class="layers-panel">
        <div class="panel-header">
          <span>Layers</span>
          <button id="btnAddLayer" class="btn-add">+</button>
          <button id="btnAddImageLayer" class="btn-add">üñºÔ∏è</button>
        </div>
        <div id="layersList" class="layers-list"></div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>